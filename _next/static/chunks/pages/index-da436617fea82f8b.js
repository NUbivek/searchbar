(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2274)}])},2274:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var r=s(5893),a=s(7294),l=s(9008),n=s.n(l);let i={VERIFIED:"verified",OPEN:"open"},o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:n,iconNode:i,...o},u)=>(0,a.createElement)("svg",{ref:u,...d,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:c("lucide",l),...o},[...i.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),h=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...r},l)=>(0,a.createElement)(u,{ref:l,iconNode:t,className:c(`lucide-${o(e)}`,s),...r}));return s.displayName=`${e}`,s},m=h("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),x=h("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);function p(e){var t;let{selectedModel:s,setSelectedModel:l}=e,[n,i]=(0,a.useState)(!1),o=[{id:"Gemma-7B",name:"Gemma 7B",description:"Efficient Google model",icon:"\uD83E\uDDE0"},{id:"Mixtral-8x7B",name:"Mixtral 8x7B",description:"Powerful multi-expert model",icon:"⚡"},{id:"Perplexity",name:"Perplexity-Online",description:"Real-time web analysis",icon:"\uD83C\uDF10"},{id:"DeepSeek-70B",name:"DeepSeek 70B",description:"Advanced reasoning model",icon:"\uD83D\uDD0D"}];return(0,r.jsxs)("div",{className:"relative inline-block text-left",children:[(0,r.jsxs)("button",{onClick:()=>i(!n),className:"inline-flex items-center gap-2 px-4 py-2  bg-white/80 backdrop-blur-sm border border-gray-200  rounded-xl hover:bg-white/90 hover:border-gray-300  transition-all duration-200 ease-out shadow-sm  hover:shadow group",children:[(0,r.jsx)(x,{size:16,className:"text-blue-500 group-hover:text-blue-600  transition-colors duration-200"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:(null===(t=o.find(e=>e.id===s))||void 0===t?void 0:t.name)||s}),(0,r.jsx)(m,{className:"w-4 h-4 text-gray-500 transition-transform duration-200 \n            ".concat(n?"rotate-180":""," group-hover:text-gray-700")})]}),n&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-72 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg overflow-hidden z-50 animate-fadeIn",children:o.map(e=>(0,r.jsx)("button",{onClick:()=>{l(e.id),i(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50/80 transition-colors border-b border-gray-100 last:border-0 group/item",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 group-hover/item:text-blue-600",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500 group-hover/item:text-gray-600",children:e.description})]})]})},e.id))})]})}function g(e){let{onUpload:t}=e,[s,l]=(0,a.useState)({}),n=async e=>{let s=Array.from(e.target.files),r={};s.forEach(e=>{r[e.name]=0}),l(r);try{for(let e of s)l(t=>({...t,[e.name]:100}));t(s)}catch(e){console.error("Upload error:",e)}};return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:n,accept:".pdf,.txt,.csv,.json,.xlsx",className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),Object.entries(s).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"text-sm",children:t}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(s,"%")}})})]},t)})]})}function b(e){let{onSubmit:t}=e,[s,l]=(0,a.useState)("");return(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),s&&(t(s),l(""))},className:"mt-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"url",value:s,onChange:e=>l(e.target.value),placeholder:"Enter URL",className:"flex-1 px-4 py-2 border rounded-lg"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Add"})]})})}function f(e){let{children:t}=e,[s,l]=a.useState(!1),[n,i]=a.useState(null);return(a.useEffect(()=>{s&&console.error("Search error:",n)},[s,n]),s)?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-red-600",children:"Search failed"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:null==n?void 0:n.message}),(0,r.jsx)("button",{onClick:()=>l(!1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):(0,r.jsxs)(a.Fragment,{children:[t,(0,r.jsx)("div",{id:"search-error-container"})]})}function y(e){var t;let{selectedModel:s}=e,[l,n]=(0,a.useState)(""),[i,o]=(0,a.useState)("verified"),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,x]=(0,a.useState)(null),[p,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(null),N=async e=>{e.preventDefault(),y(!0),v(null),console.log("Starting search with:",{query:l,model:s,customMode:i,customUrls:c,uploadedFiles:u});try{let e=await fetch("/api/verifiedSearch",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:l,model:s,customMode:i,customUrls:c||[],uploadedFiles:u||[]})}),t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw Error("Server returned non-JSON response");let r=await e.json();if(!e.ok)throw Error(r.message||r.error||"Search failed");x(r)}catch(e){console.error("Search error:",e),v(e.message||"Search failed. Please try again.")}finally{y(!1)}};return(0,r.jsx)(f,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-6 py-3 text-lg border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition-colors shadow-sm",disabled:p,children:p?"Searching...":"Search"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,r.jsx)("button",{type:"button",onClick:()=>o("custom"),className:"px-4 py-2 rounded-lg transition-colors ".concat("custom"===i?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom Sources"}),(0,r.jsx)("button",{type:"button",onClick:()=>o("combined"),className:"px-4 py-2 rounded-lg transition-colors ".concat("combined"===i?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom + Verified Sources"})]}),("custom"===i||"combined"===i)&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(g,{onUpload:e=>h([...u,...e])}),(0,r.jsx)(b,{onSubmit:e=>d([...c,e])}),(c.length>0||u.length>0)&&(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Added Sources"}),c.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e},t)),u.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.name},t))]})]})]}),j&&(0,r.jsx)("div",{className:"text-red-600 text-center",children:j}),m&&(0,r.jsx)("div",{className:"mt-8 space-y-8",children:null===(t=m.sources)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.source}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:e.content}),e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"View Source →"})]},t))})]})})}let j=h("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);class v{static startRequest(e,t){let s=Math.random().toString(36).substring(7);return this.requests.set(s,{url:e,options:t,startTime:Date.now(),status:"pending"}),s}static endRequest(e,t){let s=this.requests.get(e);s&&(s.endTime=Date.now(),s.duration=s.endTime-s.startTime,s.status=t.status,s.ok=t.ok,t.ok||(s.error="HTTP ".concat(t.status)))}static getStats(){return Array.from(this.requests.values())}}function N(e){var t;let{selectedModel:s}=e,[l,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(["Web"]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[p,y]=(0,a.useState)(null),[N,S]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),E=[["Web","LinkedIn","X","Reddit","Substack"],["Crunchbase","Pitchbook","Medium","Verified Sources",(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(j,{size:16})," Files + URL"]})]],C=async e=>{e.preventDefault(),S(!0),k(null);let t=v.startRequest("/api/openSearch",{method:"POST",query:l,model:s});try{let e=await fetch("https://research.bivek.ai/api/openSearch",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify({query:l,model:s,sources:i,customUrls:u,uploadedFiles:m})});v.endRequest(t,e);let r=e.headers.get("content-type");if(!r||!r.includes("application/json"))throw Error("Server returned non-JSON response");let a=await e.json();if(!e.ok)throw Error(a.error||"Search failed");y(a)}catch(e){v.endRequest(t,{ok:!1,status:"failed",error:e.message}),console.error("Search error:",e),k(e.message||"Search failed. Please try again.")}finally{S(!1)}},R=e=>{if("Upload Files + URL"===e){d(!c);return}o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.jsx)(f,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-4 py-2 border rounded-lg"}),(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg",disabled:N,children:N?"Searching...":"Search"})]}),(0,r.jsx)("div",{className:"space-y-3",children:E.map((e,t)=>(0,r.jsx)("div",{className:"flex gap-3",children:e.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>R(e),className:"px-4 py-2 rounded-lg transition-colors flex-1\n                      ".concat(i.includes(e)||"Upload Files + URL"===e&&c?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:e},e))},t))}),c&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsx)(g,{onUpload:e=>x([...m,...e])}),(0,r.jsx)(b,{onSubmit:e=>h([...u,e])}),(u.length>0||m.length>0)&&(0,r.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg border",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Added Sources"}),u.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e},t)),m.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.name},t))]})]})]}),w&&(0,r.jsx)("div",{className:"text-red-600 text-center",children:w}),p&&(0,r.jsx)("div",{className:"mt-8 space-y-8",children:null===(t=p.sources)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.source}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:e.content}),e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"View Source →"})]},t))})]})})}function S(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("/api/debug"),s=await e.json();t(s)}catch(e){l(e.message)}};return s?(0,r.jsxs)("div",{className:"text-red-600",children:["API Connection Error: ",s]}):(0,r.jsx)("div",{className:"fixed bottom-4 right-4 p-4 bg-black/80 text-white rounded-lg text-xs",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2)})})}v.requests=new Map,console.log("API URL:","https://api.research.bivek.ai");let w="https://api.research.bivek.ai";function k(){let[e,t]=(0,a.useState)(i.VERIFIED),[s,l]=(0,a.useState)("Mixtral-8x7B"),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=e=>{e.ctrlKey&&e.shiftKey&&"D"===e.key&&c(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let b=async e=>{console.log("Searching with API:",w),m(!0),g(null);try{let t=await fetch("".concat(w,"/api/search/open-search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();console.log("Search response:",s),"success"===s.status?u(s.results):g(s.message||"Search failed")}catch(e){console.error("Search error:",e),g("An error occurred")}finally{m(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Research Hub"})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-900 sm:text-4xl",children:"Research Hub"}),(0,r.jsx)("p",{className:"mt-3 text-lg text-gray-500",children:"Search across verified sources and market data"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mb-8",children:[(0,r.jsx)("button",{onClick:()=>t(i.VERIFIED),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.VERIFIED?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Verified Sources"}),(0,r.jsx)("button",{onClick:()=>t(i.OPEN),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.OPEN?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Open Research"})]}),(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)(p,{selectedModel:s,setSelectedModel:l})}),e===i.VERIFIED?(0,r.jsx)(y,{selectedModel:s,onSearch:b,isLoading:h,error:x,results:d}):(0,r.jsx)(N,{selectedModel:s,onSearch:b,isLoading:h,error:x,results:d}),d&&(0,r.jsx)("div",{className:"mt-8 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Summary"}),(0,r.jsx)("p",{className:"text-gray-700",children:d.summary})]}),d.sources.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Sources"}),(0,r.jsx)("div",{className:"space-y-3",children:d.sources.map((e,t)=>(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Source: ",e.source," ",e.verified&&"✓"]})]},t))})]})]})}),o&&(0,r.jsx)(S,{})]})]})}},9008:function(e,t,s){e.exports=s(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);