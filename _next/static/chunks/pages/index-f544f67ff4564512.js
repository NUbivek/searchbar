(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1082)}])},1082:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var r=s(5893),l=s(7294),a=s(9008),n=s.n(a);let i={VERIFIED:"verified",OPEN:"open"};function c(e){let{onModelSelect:t}=e,[s,a]=(0,l.useState)("Mixtral-8x7B"),n=e=>{a(e),t(e)};return(0,r.jsxs)("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Model Selection"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:["Perplexity","Gemma 2.0 (9B)","Mixtral-8x7B","DeepSeek 70B"].map(e=>(0,r.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 rounded-lg transition-colors ".concat(s===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:e},e))})]})}function o(e){let{onUpload:t}=e,[s,a]=(0,l.useState)({}),n=async e=>{let s=Array.from(e.target.files),r={};s.forEach(e=>{r[e.name]=0}),a(r);try{for(let e of s)a(t=>({...t,[e.name]:100}));t(s)}catch(e){console.error("Upload error:",e)}};return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:n,accept:".pdf,.txt,.csv,.json,.xlsx",className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),Object.entries(s).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"text-sm",children:t}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(s,"%")}})})]},t)})]})}function d(e){let{onSubmit:t}=e,[s,a]=(0,l.useState)("");return(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),s&&(t(s),a(""))},className:"mt-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"url",value:s,onChange:e=>a(e.target.value),placeholder:"Enter URL",className:"flex-1 px-4 py-2 border rounded-lg"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Add"})]})})}function u(e){let{selectedModel:t,onSearch:s,isLoading:a,error:n}=e,[i,c]=(0,l.useState)(""),[u,x]=(0,l.useState)("custom"),[m,h]=(0,l.useState)([]),[g,p]=(0,l.useState)([]),b=async e=>{e.preventDefault(),s({query:i,mode:u,customUrls:m,uploadedFiles:g})};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("form",{onSubmit:b,children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-4 py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:a,children:"Search"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mb-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>x("custom"),className:"px-4 py-2 rounded-lg transition-colors ".concat("custom"===u?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom Sources"}),(0,r.jsx)("button",{type:"button",onClick:()=>x("combined"),className:"px-4 py-2 rounded-lg transition-colors ".concat("combined"===u?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom + Verified Sources"})]}),"custom"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(o,{files:g,onFilesChange:p}),(0,r.jsx)(d,{urls:m,onUrlsChange:h})]})]}),n&&(0,r.jsx)("div",{className:"mt-4 text-red-600 text-center",children:n})]})}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:n,iconNode:i,...c},o)=>(0,l.createElement)("svg",{ref:o,...h,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:m("lucide",a),...c},[...i.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(n)?n:[n]])),p=((e,t)=>{let s=(0,l.forwardRef)(({className:s,...r},a)=>(0,l.createElement)(g,{ref:a,iconNode:t,className:m(`lucide-${x(e)}`,s),...r}));return s.displayName=`${e}`,s})("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function b(e){let{children:t}=e,[s,a]=l.useState(!1),[n,i]=l.useState(null);return(l.useEffect(()=>{s&&console.error("Search error:",n)},[s,n]),s)?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-red-600",children:"Search failed"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:null==n?void 0:n.message}),(0,r.jsx)("button",{onClick:()=>a(!1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):(0,r.jsxs)(l.Fragment,{children:[t,(0,r.jsx)("div",{id:"search-error-container"})]})}function f(e){let{selectedModel:t,onSearch:s,isLoading:a,error:n,results:i}=e,[c,u]=(0,l.useState)(""),[x,m]=(0,l.useState)("Web"),[h,g]=(0,l.useState)(!1),[f,y]=(0,l.useState)([]),[j,N]=(0,l.useState)([]),v=[["Web","LinkedIn","X","Reddit","Substack"],["Crunchbase","Pitchbook","Medium","Verified Sources",(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(p,{size:16})," Files + URL"]})]],S=async e=>{e.preventDefault();try{s({query:c,source:x,customUrls:f,uploadedFiles:j})}catch(e){console.error("Search error:",e)}},w=e=>{if("Files + URL"===e){g(!h);return}m("string"==typeof e?e:"Files + URL")};return(0,r.jsx)(b,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:S,children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-4 py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:a,children:a?"Searching...":"Search"})]}),(0,r.jsx)("div",{className:"space-y-2",children:v.map((e,t)=>(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:e.map((e,t)=>(0,r.jsx)("button",{type:"button",onClick:()=>w(e),className:"px-4 py-2 rounded-lg transition-colors ".concat(x===("string"==typeof e?e:"Files + URL")?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:e},t))},t))}),h&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsx)(o,{onUpload:e=>N(e)}),(0,r.jsx)(d,{onSubmit:e=>y([...f,e])}),(f.length>0||j.length>0)&&(0,r.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg border",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Added Sources"}),f.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e},t)),j.map((e,t)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.name},t))]})]})]}),n&&(0,r.jsx)("div",{className:"mt-4 text-red-600 text-center",children:n}),i&&(0,r.jsx)("div",{className:"mt-8",children:i.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-4",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-lg font-medium",children:e.title}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:e.snippet}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Source: ",e.source,e.author&&" • Author: ".concat(e.author),e.timestamp&&" • ".concat(new Date(e.timestamp).toLocaleDateString())]})]},t))})]})})}function y(){let[e,t]=(0,l.useState)(null),[s,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("/api/debug"),s=await e.json();t(s)}catch(e){a(e.message)}};return s?(0,r.jsxs)("div",{className:"text-red-600",children:["API Connection Error: ",s]}):(0,r.jsx)("div",{className:"fixed bottom-4 right-4 p-4 bg-black/80 text-white rounded-lg text-xs",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2)})})}console.log("API URL:","https://api.research.bivek.ai");let j="https://api.research.bivek.ai";function N(){let[e,t]=(0,l.useState)(i.VERIFIED),[s,a]=(0,l.useState)("Mixtral-8x7B"),[o,d]=(0,l.useState)(!1),[x,m]=(0,l.useState)(null),[h,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=e=>{e.ctrlKey&&e.shiftKey&&"D"===e.key&&d(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let N=async e=>{console.log("Searching with API:",j),g(!0),b(null);try{let t=await fetch("".concat(j,"/api/search/open-search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();console.log("Search response:",s),"success"===s.status?m(s.results):b(s.message||"Search failed")}catch(e){console.error("Search error:",e),b("An error occurred")}finally{g(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Research Hub"})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-900 sm:text-4xl",children:"Research Hub"}),(0,r.jsx)("p",{className:"mt-3 text-lg text-gray-500",children:"Search across verified sources and market data"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mb-8",children:[(0,r.jsx)("button",{onClick:()=>t(i.VERIFIED),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.VERIFIED?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Verified Sources"}),(0,r.jsx)("button",{onClick:()=>t(i.OPEN),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.OPEN?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Open Research"})]}),(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)(c,{selectedModel:s,setSelectedModel:a})}),e===i.VERIFIED?(0,r.jsx)(u,{selectedModel:s,onSearch:N,isLoading:h,error:p,results:x}):(0,r.jsx)(f,{selectedModel:s,onSearch:N,isLoading:h,error:p,results:x}),x&&(0,r.jsx)("div",{className:"mt-8 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Summary"}),(0,r.jsx)("p",{className:"text-gray-700",children:x.summary})]}),x.sources.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Sources"}),(0,r.jsx)("div",{className:"space-y-3",children:x.sources.map((e,t)=>(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Source: ",e.source," ",e.verified&&"✓"]})]},t))})]})]})}),o&&(0,r.jsx)(y,{})]})]})}},9008:function(e,t,s){e.exports=s(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);