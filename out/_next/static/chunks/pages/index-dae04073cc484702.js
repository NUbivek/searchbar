(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1082)}])},1082:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var r=t(5893),l=t(7294),a=t(9008),n=t.n(a);let i={VERIFIED:"verified",OPEN:"open"};function c(e){let{onModelSelect:s}=e,[t,a]=(0,l.useState)("Mixtral-8x7B"),n=e=>{a(e),s(e)};return(0,r.jsxs)("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Model Selection"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:["Perplexity","Gemma 2.0 (9B)","Mixtral-8x7B","DeepSeek 70B"].map(e=>(0,r.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 rounded-lg transition-colors ".concat(t===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:e},e))})]})}function o(e){let{onUpload:s}=e,[t,a]=(0,l.useState)({}),n=async e=>{let t=Array.from(e.target.files),r={};t.forEach(e=>{r[e.name]=0}),a(r);try{for(let e of t)a(s=>({...s,[e.name]:100}));s(t)}catch(e){console.error("Upload error:",e)}};return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:n,accept:".pdf,.txt,.csv,.json,.xlsx",className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),Object.entries(t).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"text-sm",children:s}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(t,"%")}})})]},s)})]})}function d(e){let{onSubmit:s}=e,[t,a]=(0,l.useState)("");return(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),t&&(s(t),a(""))},className:"mt-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"url",value:t,onChange:e=>a(e.target.value),placeholder:"Enter URL",className:"flex-1 px-4 py-2 border rounded-lg"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Add"})]})})}function u(e){let{children:s}=e,[t,a]=l.useState(!1),[n,i]=l.useState(null);return(l.useEffect(()=>{t&&console.error("Search error:",n)},[t,n]),t)?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-red-600",children:"Search failed"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:null==n?void 0:n.message}),(0,r.jsx)("button",{onClick:()=>a(!1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):(0,r.jsxs)(l.Fragment,{children:[s,(0,r.jsx)("div",{id:"search-error-container"})]})}function x(e){var s;let{selectedModel:t,onSearch:a,isLoading:n,error:i,results:c}=e,[x,m]=(0,l.useState)(""),[h,g]=(0,l.useState)("verified"),[b,p]=(0,l.useState)([]),[f,j]=(0,l.useState)([]);return(0,r.jsx)(u,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(x)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-6 py-3 text-lg border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition-colors shadow-sm",disabled:n,children:n?"Searching...":"Search"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,r.jsx)("button",{type:"button",onClick:()=>g("custom"),className:"px-4 py-2 rounded-lg transition-colors ".concat("custom"===h?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom Sources"}),(0,r.jsx)("button",{type:"button",onClick:()=>g("combined"),className:"px-4 py-2 rounded-lg transition-colors ".concat("combined"===h?"bg-blue-600 text-white":"bg-gray-100"),children:"Custom + Verified Sources"})]}),("custom"===h||"combined"===h)&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(o,{onUpload:e=>j([...f,...e])}),(0,r.jsx)(d,{onSubmit:e=>p([...b,e])}),(b.length>0||f.length>0)&&(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Added Sources"}),b.map((e,s)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e},s)),f.map((e,s)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.name},s))]})]})]}),i&&(0,r.jsx)("div",{className:"text-red-600 text-center",children:i}),n&&(0,r.jsx)("div",{className:"text-center",children:"Loading..."}),c&&(0,r.jsx)("div",{className:"mt-8 space-y-8",children:null===(s=c.sources)||void 0===s?void 0:s.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.source}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:e.content}),e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"View Source →"})]},s))})]})})}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,l.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:n,iconNode:i,...c},o)=>(0,l.createElement)("svg",{ref:o,...g,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:h("lucide",a),...c},[...i.map(([e,s])=>(0,l.createElement)(e,s)),...Array.isArray(n)?n:[n]])),p=((e,s)=>{let t=(0,l.forwardRef)(({className:t,...r},a)=>(0,l.createElement)(b,{ref:a,iconNode:s,className:h(`lucide-${m(e)}`,t),...r}));return t.displayName=`${e}`,t})("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function f(e){var s;let{selectedModel:t,onSearch:a,isLoading:n,error:i,results:c}=e,[x,m]=(0,l.useState)(""),[h,g]=(0,l.useState)(["Web"]),[b,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)([]),[N,v]=(0,l.useState)([]),w=[["Web","LinkedIn","X","Reddit","Substack"],["Crunchbase","Pitchbook","Medium","Verified Sources",(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(p,{size:16})," Files + URL"]})]],S=e=>{if("Upload Files + URL"===e){f(!b);return}g(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,r.jsx)(u,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(x)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Enter your search query",className:"flex-1 px-6 py-3 text-lg border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition-colors shadow-sm",disabled:n,children:n?"Searching...":"Search"})]}),(0,r.jsx)("div",{className:"space-y-3",children:w.map((e,s)=>(0,r.jsx)("div",{className:"flex gap-3",children:e.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>S(e),className:"px-4 py-2 rounded-lg transition-colors flex-1\n                      ".concat(h.includes(e)||"Upload Files + URL"===e&&b?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:e},e))},s))}),b&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsx)(o,{onUpload:e=>v([...N,...e])}),(0,r.jsx)(d,{onSubmit:e=>y([...j,e])}),(j.length>0||N.length>0)&&(0,r.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg border",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Added Sources"}),j.map((e,s)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e},s)),N.map((e,s)=>(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.name},s))]})]})]}),i&&(0,r.jsx)("div",{className:"text-red-600 text-center",children:i}),n&&(0,r.jsx)("div",{className:"text-center",children:"Loading..."}),c&&(0,r.jsx)("div",{className:"mt-8 space-y-8",children:null===(s=c.results)||void 0===s?void 0:s.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.source}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:e.content}),e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"View Source →"})]},s))})]})})}function j(){let[e,s]=(0,l.useState)(null),[t,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("/api/debug"),t=await e.json();s(t)}catch(e){a(e.message)}};return t?(0,r.jsxs)("div",{className:"text-red-600",children:["API Connection Error: ",t]}):(0,r.jsx)("div",{className:"fixed bottom-4 right-4 p-4 bg-black/80 text-white rounded-lg text-xs",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2)})})}console.log("API URL:","https://api.research.bivek.ai");let y="https://api.research.bivek.ai";function N(){let[e,s]=(0,l.useState)(i.VERIFIED),[t,a]=(0,l.useState)("Mixtral-8x7B"),[o,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),[h,g]=(0,l.useState)(!1),[b,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=e=>{e.ctrlKey&&e.shiftKey&&"D"===e.key&&d(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let N=async e=>{console.log("Searching with API:",y),g(!0),p(null);try{let s=await fetch("".concat(y,"/api/search/open-search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let t=await s.json();console.log("Search response:",t),"success"===t.status?m(t.results):p(t.message||"Search failed")}catch(e){console.error("Search error:",e),p("An error occurred")}finally{g(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Research Hub"})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-900 sm:text-4xl",children:"Research Hub"}),(0,r.jsx)("p",{className:"mt-3 text-lg text-gray-500",children:"Search across verified sources and market data"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mb-8",children:[(0,r.jsx)("button",{onClick:()=>s(i.VERIFIED),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.VERIFIED?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Verified Sources"}),(0,r.jsx)("button",{onClick:()=>s(i.OPEN),className:"px-6 py-3 rounded-lg text-lg font-medium transition-colors\n              ".concat(e===i.OPEN?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"Open Research"})]}),(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)(c,{selectedModel:t,setSelectedModel:a})}),e===i.VERIFIED?(0,r.jsx)(x,{selectedModel:t,onSearch:N,isLoading:h,error:b,results:u}):(0,r.jsx)(f,{selectedModel:t,onSearch:N,isLoading:h,error:b,results:u}),u&&(0,r.jsx)("div",{className:"mt-8 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Summary"}),(0,r.jsx)("p",{className:"text-gray-700",children:u.summary})]}),u.sources.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Sources"}),(0,r.jsx)("div",{className:"space-y-3",children:u.sources.map((e,s)=>(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Source: ",e.source," ",e.verified&&"✓"]})]},s))})]})]})}),o&&(0,r.jsx)(j,{})]})]})}},9008:function(e,s,t){e.exports=t(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);